<!-- STYLE -->
<style>
    html, body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        font-size: 12px;
    }

    .container {
        padding: 0 8px;
    }

    /* input {
        width: 160px;
        height: 24px;
        margin-bottom: 8px;
        background-color: #f2f2f2;
        border-radius: 4px;
        border: none;
    } */
</style>
    
<!-- BODY -->
<html>

<div class="container">
        Light: <input type="key" name="token" id="lightId"></br>
        Dark: <input type="key" name="token" id="darkId"></br>
        <input type="button" value="Save settings" id="submit" onclick="sendToPlugin();">
        <input type="button" value="Reset" id="submit" onclick="resetSettings();">

        <script>
            setInputValue();

            function setInputValue(){
                onmessage = (event) => {
                    var day = event.data.pluginMessage.day;
                    var night = event.data.pluginMessage.night;
                    document.getElementById("lightId").value = day;
                    document.getElementById("darkId").value = night;
                }
            }

            function sendToPlugin(){
                var dayColor = document.getElementById("lightId").value;
                var nightColor = document.getElementById("darkId").value;

                sendDay(), sendNight()

                function sendDay(){
                    parent.postMessage({ pluginMessage: { type: 'dayInput', dayColor } }, '*')
                }

                function sendNight(){
                    parent.postMessage({ pluginMessage: { type: 'nightInput', nightColor } }, '*')
                }
            }

            function resetSettings(){
                    parent.postMessage({ pluginMessage: { type: 'clearStorage' } }, '*')
                }
        </script>
</div>

</html>